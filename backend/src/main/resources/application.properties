# Server Configuration
server.port=8080
# Remove context-path when serving frontend from same JAR
# server.servlet.context-path=/api

# Static Resources Configuration
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.add-mappings=true

# Async Request Timeout (5 minutes)
spring.mvc.async.request-timeout=300000

# Application Configuration
spring.application.name=ai-chatbot-backend

# Ollama Configuration
spring.ai.ollama.base-url=http://localhost:11434
spring.ai.ollama.chat.model=granite4:micro-h
spring.ai.ollama.embedding.model=granite4:micro-h

# Proxy allowed hosts (comma separated). Only these hosts can be called through /api/proxy
# Use * to allow all hosts.
proxy.allowed.hosts=*

# CORS Configuration
cors.allowed-origins=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173,http://localhost:3001
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH,HEAD
cors.allowed-headers=*
cors.allow-credentials=true

# GitHub Repository Configuration
repo.github.baseurl=https://github.ibm.com/api/v3
repo.github.repositories[0].owner=maximo-application-suite
repo.github.repositories[0].name=knowledge-center
repo.github.repositories[0].branch=main
repo.github.repositories[1].owner=maximo-application-suite
repo.github.repositories[1].name=mas-suite-install
repo.github.repositories[1].branch=main
repo.github.repositories[2].owner=maximo-application-suite
repo.github.repositories[2].name=MaxRenewAutomate
repo.github.repositories[2].branch=main
repo.github.repositories[3].owner=maximo-application-suite
repo.github.repositories[3].name=mas-manage-install
repo.github.repositories[3].branch=main
repo.github.token=<Replace with your token>
## Vector Database not used; using file-based embeddings

# MongoDB Configuration
spring.data.mongodb.uri=<Replace with your mongodb uri>
spring.data.mongodb.database=Chatbot

# Cache Configuration (Simple cache instead of Redis)
spring.cache.type=simple

# Logging Configuration
logging.level.com.aichatbot=INFO
logging.level.org.springframework.ai=DEBUG
## Remove Mongo debug logs
logging.level.root=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Performance Settings
file.processing.chunk-size=2000
file.processing.batch-size=50
rate.limiting.requests-per-minute=60

## CORS unified above

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Threading Configuration
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=1000

# JSON time configuration
spring.jackson.time-zone=UTC
spring.jackson.serialization.write-dates-as-timestamps=false

# RAG Settings
# Delete all existing embeddings on startup before (re)indexing
rag.cleanOnStartup=true

# Embedding store configuration
# Options: file (default)
embedding.store=file
# Store embeddings inside the project (relative to working dir)
embedding.store.dir=data/embeddings
